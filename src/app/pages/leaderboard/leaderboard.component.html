<app-navigation [backUrl]="backUrl" label="Leaderboard"></app-navigation>

<p-tabView *ngIf="activities && !load; else loader" (onChange)="getActvityScores(activities[$event.index])">
  <p-tabPanel *ngFor="let item of activities">
    <ng-template pTemplate="header" >
      <div class="leaderboard-tab">
        <div class="lb-icon">
          <div *ngIf="item.name | stringContains: 'beer'" style="background: url('/assets/Beer.svg'); width: 40px; height: 40px;"> </div>
          <div *ngIf="item.name | stringContains: 'potjie'" style="background: url('/assets/Potjie.svg'); width: 40px; height: 40px;"> </div>
        </div>
        <div class="lb-name">{{item.name}}</div>
      </div>
    </ng-template>
      
    <div class="leaderboard-table" *ngIf="score$ | async as score; else loader">
      <div class="row" *ngFor="let item of score; let i=index">
        <div class="rank"><span>{{i + 1}}</span></div>
        <div class="team">
          <span class="team-name">{{item.teamName}}</span>
          <span class="team-cat">{{item.categoryName}}</span>
        </div>
        <div class="score">
          <div>{{item.score}}/10</div>
          <span>Score</span>
        </div>
      </div>
    </div>
  </p-tabPanel>
</p-tabView>

<ng-template #loader>
  <div class="loader">
    <app-spinner></app-spinner>
  </div>
</ng-template>

